  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1  [["name", "create_or_find_by"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? LIMIT 1  [["name", "test"], ["caption", "test"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1  [["name", "data"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? LIMIT 1  [["name", "test"], ["caption", "test"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1  [["name", "data"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1[0m  [["name", "register_stored_attributes"]]
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? LIMIT 1  [["name", "test"], ["caption", "test"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1  [["name", "attrs"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? LIMIT 1  [["name", "test"], ["caption", "test"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.9ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.2ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.2ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.0ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.2ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36m (2.1ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1  [["name", "new?"]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.2ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? LIMIT 1[0m  [["name", "new?"]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"stored_float\":3.15}"], ["id", 1]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"stored_float\":3.15}"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"stored_float\":3.15}"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "{\"stored_float\":4.15}"], ["id", 1]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.9ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"stored_float\":4.15}"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"time_field\":\"2016-09-21T20:45:29.606+00:00\"}"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.2ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "{\"stored_float\":3.15}"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "\u0004\bC:-ActiveSupport::HashWithIndifferentAccess{\u0006I\"\u0011stored_float\u0006:\u0006EFf\t3.15"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "\u0004\bC:-ActiveSupport::HashWithIndifferentAccess{\u0006I\"\u0011stored_float\u0006:\u0006EFf\t4.15"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.2ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.2ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 828.4ms

Sent mail to admin (29.6ms)
Date: Wed, 21 Sep 2016 22:38:58 +0000
From: Dummy <>
To: admin
Message-ID: <57e30c0246b65_a27aeb838916b@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<148 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.2ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 826.6ms

Sent mail to admin (29.4ms)
Date: Wed, 21 Sep 2016 22:44:49 +0000
From: Dummy <>
To: admin
Message-ID: <57e30d6137d2f_a49763830437a8@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.1ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (4.2ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 823.6ms

Sent mail to admin (30.5ms)
Date: Wed, 21 Sep 2016 22:49:33 +0000
From: Dummy <>
To: admin
Message-ID: <57e30e7d286eb_a6b425838407aa@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.1ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (3.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<147 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.0ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 833.8ms

Sent mail to admin (30.9ms)
Date: Wed, 21 Sep 2016 22:55:29 +0000
From: Dummy <>
To: admin
Message-ID: <57e30fe1df2e9_a959db828460e@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.1ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (4.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 837.3ms

Sent mail to admin (30.4ms)
Date: Thu, 22 Sep 2016 06:47:43 +0000
From: Dummy <>
To: admin
Message-ID: <57e37e8f62617_1747fb383828596@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.0ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (4.1ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.1ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 822.5ms

Sent mail to admin (30.4ms)
Date: Thu, 22 Sep 2016 06:48:38 +0000
From: Dummy <>
To: admin
Message-ID: <57e37ec66a99f_175080583059f@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 831.0ms

Sent mail to admin (30.1ms)
Date: Thu, 22 Sep 2016 06:56:07 +0000
From: Dummy <>
To: admin
Message-ID: <57e38087c0b5a_17816158343797d@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 829.2ms

Sent mail to admin (30.3ms)
Date: Thu, 22 Sep 2016 06:57:22 +0000
From: Dummy <>
To: admin
Message-ID: <57e380d25d028_178b6578347885f@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 6.5ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.0ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 1]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1

HomeMailer#send_mail: processed outbound mail in 6.7ms
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<147 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 1]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 1]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 1], ["rgt", 2]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 1  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 1]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE ("users"."email" IS NOT NULL) AND "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 847.9ms

Sent mail to  (22.1ms)
Date: Thu, 22 Sep 2016 06:59:42 +0000
From: Dummy <>
Message-ID: <57e3815ecf57_17a077b83c714ea@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.6ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE ("users"."email" IS NOT NULL) AND "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 839.5ms

Sent mail to uratol@gmail.com, admin@example.com (31.8ms)
Date: Thu, 22 Sep 2016 07:03:11 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e3822f76747_1851425838865cd@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE ("users"."email" IS NOT NULL) AND "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 839.4ms

Sent mail to uratol@gmail.com, admin@example.com (32.3ms)
Date: Thu, 22 Sep 2016 07:04:16 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e382706135f_185aaed83c1744d@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (1.1ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (4.4ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE ("users"."email" IS NOT NULL) AND "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 827.9ms

Sent mail to uratol@gmail.com, admin@example.com (31.8ms)
Date: Thu, 22 Sep 2016 07:11:23 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e3841b6c13a_1887e518387638a@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE ("users"."email" IS NOT NULL) AND "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 853.6ms

Sent mail to uratol@gmail.com, admin@example.com (32.2ms)
Date: Thu, 22 Sep 2016 07:14:05 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e384bd8326f_18991c582868375@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.6ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (2.0ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.3ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 822.5ms

Sent mail to uratol@gmail.com, admin@example.com (31.5ms)
Date: Thu, 22 Sep 2016 07:25:55 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e387835e1a4_18f6fff8344732f@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.9ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 827.7ms

Sent mail to uratol@gmail.com, admin@example.com (31.8ms)
Date: Thu, 22 Sep 2016 07:27:10 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e387ce2a0dc_18fe1158306356b@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.6ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 9.0ms

Sent mail to uratol@gmail.com, admin@example.com (12.6ms)
Date: Thu, 22 Sep 2016 07:27:10 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e387ce42853_18fe115830636f1@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.2ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users"

HomeMailer#send_mail: processed outbound mail in 832.0ms

Sent mail to uratol@gmail.com, admin@example.com (32.2ms)
Date: Thu, 22 Sep 2016 07:27:37 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e387e9b1875_19046a582832573@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (3.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 8.9ms

Sent mail to uratol@gmail.com, admin@example.com (12.6ms)
Date: Thu, 22 Sep 2016 07:27:37 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e387e9caa2d_19046a5828326cd@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 830.8ms

Sent mail to uratol@gmail.com, admin@example.com (32.0ms)
Date: Thu, 22 Sep 2016 07:59:15 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e38f53e8c39_19cddf983c36310@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (4.5ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 837.0ms

Sent mail to uratol@gmail.com, admin@example.com (32.3ms)
Date: Thu, 22 Sep 2016 08:00:19 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e38f93d830f_19d5e18286961b@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (3.7ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 2.3ms
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.6ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 9.0ms

Sent mail to uratol@gmail.com, admin@example.com (12.8ms)
Date: Thu, 22 Sep 2016 08:00:20 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e38f9436ab9_19d5e1828697f0@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.9ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.2ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.3ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.8ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.4ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 826.5ms

Sent mail to uratol@gmail.com, admin@example.com (31.9ms)
Date: Thu, 22 Sep 2016 08:52:03 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39bb38e99d_1b2f8e3830963de@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.6ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (3.8ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users"

HomeMailer#send_mail: processed outbound mail in 8.0ms

Sent mail to uratol@gmail.com, admin@example.com (12.6ms)
Date: Thu, 22 Sep 2016 08:52:03 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39bb3bed77_1b2f8e38309647f@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 5.9ms

Sent mail to test@example.com, test2@example.com (12.5ms)
Date: Thu, 22 Sep 2016 08:52:03 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39bb3d04d2_1b2f8e383096541@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.2ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 833.3ms

Sent mail to test@example.com, test2@example.com (31.7ms)
Date: Thu, 22 Sep 2016 08:54:12 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39c3464921_1b491a98389065a@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (4.3ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.8ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 8.9ms

Sent mail to uratol@gmail.com, admin@example.com (12.7ms)
Date: Thu, 22 Sep 2016 08:54:12 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39c349511f_1b491a98389072d@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 8.8ms

Sent mail to uratol@gmail.com, admin@example.com (12.7ms)
Date: Thu, 22 Sep 2016 08:54:12 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39c34a7473_1b491a983890872@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.4ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.3ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 823.9ms

Sent mail to uratol@gmail.com, admin@example.com (32.7ms)
Date: Thu, 22 Sep 2016 08:54:45 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39c55d5cb3_1b52d75830679ac@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.5ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (3.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 5.8ms

Sent mail to test@example.com, test2@example.com (12.4ms)
Date: Thu, 22 Sep 2016 08:54:45 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39c55eda1a_1b52d758306802@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 8.0ms

Sent mail to uratol@gmail.com, admin@example.com (12.6ms)
Date: Thu, 22 Sep 2016 08:54:46 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39c56b2a8_1b52d75830681f@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.0ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 835.4ms

Sent mail to uratol@gmail.com, admin@example.com (31.7ms)
Date: Thu, 22 Sep 2016 08:56:08 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39ca8e8c08_1b5e98183417857@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (3.9ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mWidget Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mEntity Load (0.7ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 8.8ms

Sent mail to uratol@gmail.com, admin@example.com (12.8ms)
Date: Thu, 22 Sep 2016 08:56:09 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39ca9398de_1b5e9818341793a@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m

HomeMailer#send_mail: processed outbound mail in 5.9ms

Sent mail to test@example.com, test2@example.com (12.6ms)
Date: Thu, 22 Sep 2016 08:56:09 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39ca94b3b7_1b5e9818341808e@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.8ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 834.9ms

Sent mail to uratol@gmail.com, admin@example.com (32.6ms)
Date: Thu, 22 Sep 2016 08:57:12 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39ce815ca6_1b659b583c62be@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.5ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.5ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.6ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 6.2ms

Sent mail to test@example.com, test2@example.com (12.6ms)
Date: Thu, 22 Sep 2016 08:57:12 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39ce82ed35_1b659b583c6385@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 8.9ms

Sent mail to uratol@gmail.com, admin@example.com (12.8ms)
Date: Thu, 22 Sep 2016 08:57:12 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39ce8411b8_1b659b583c64a@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<148 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.3ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 832.7ms

Sent mail to test@example.com, test2@example.com (32.3ms)
Date: Thu, 22 Sep 2016 08:58:23 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>
Message-ID: <57e39d2fd34a6_1b6cc3f8344199a@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.7ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users"

HomeMailer#send_mail: processed outbound mail in 9.3ms

Sent mail to uratol@gmail.com, admin@example.com (13.1ms)
Date: Thu, 22 Sep 2016 08:58:24 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39d301de5c_1b6cc3f83442027@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 8.7ms

Sent mail to uratol@gmail.com, admin@example.com (12.9ms)
Date: Thu, 22 Sep 2016 08:58:24 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39d304977f_1b6cc3f834421cc@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36m (1.8ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.7ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (1.1ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.9ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

HomeMailer#send_mail: processed outbound mail in 844.7ms

Sent mail to test@example.com, test2@example.com, t@example.com (32.7ms)
Date: Thu, 22 Sep 2016 08:59:08 +0000
From: Dummy <>
To: test@example.com, 
 test2 <test2@example.com>, 
 t@example.com
Message-ID: <57e39d5c6c001_1b796958386763@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.3ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.6ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.6ms)[0m  [1mSELECT "users"."name", "users"."email" FROM "users"[0m

HomeMailer#send_mail: processed outbound mail in 10.1ms

Sent mail to uratol@gmail.com, admin@example.com (14.4ms)
Date: Thu, 22 Sep 2016 08:59:08 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39d5c835fc_1b79695838677cc@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mEntity Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.5ms)[0m  SELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1
  [1m[36mEntity Load (1.9ms)[0m  [1mSELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1   [["id", 571]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)[0m  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?  [["attrs", "<73 bytes of binary data>"], ["id", 632]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.3ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.6ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."isadmin" = 't'[0m
  [1m[35m (0.5ms)[0m  SELECT "users"."name", "users"."email" FROM "users" WHERE "users"."isadmin" = 't'

HomeMailer#send_mail: processed outbound mail in 8.9ms

Sent mail to uratol@gmail.com, admin@example.com (12.7ms)
Date: Thu, 22 Sep 2016 08:59:08 +0000
From: Dummy <>
To: ura <uratol@gmail.com>, 
 Admin <admin@example.com>
Message-ID: <57e39d5caaba7_1b79695838678f6@development.mail>
Subject: test
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

test
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mEntity Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."name" = ? AND "entities"."caption" = ? AND "entities"."type" = ? LIMIT 1[0m  [["name", "test"], ["caption", "test"], ["type", "Widget"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE "entities"."name" = 'test' LIMIT 1[0m
  [1m[35mEntity Load (1.5ms)[0m  SELECT  "entities".* FROM "entities"  ORDER BY "entities"."rgt" desc LIMIT 1
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1 [0m  [["id", 571]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "entities" ("type", "name", "caption", "lft", "rgt") VALUES (?, ?, ?, ?, ?)  [["type", "Widget"], ["name", "test"], ["caption", "test"], ["lft", 81], ["rgt", 82]]
  [1m[36mWidget Load (0.4ms)[0m  [1mSELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1[0m  [["id", 632]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'[0m  [["entity_id", 632]]
Startup test (test)
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mEntity Exists (0.4ms)[0m  SELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "attrs" = ? WHERE "entities"."id" = ?[0m  [["attrs", "<149 bytes of binary data>"], ["id", 632]]
  [1m[35mWidget Load (0.4ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mEntity Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "entities" WHERE ("entities"."name" = 'test' AND "entities"."id" != 632) LIMIT 1[0m
  [1m[35mWidget Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."type" IN ('Widget', 'Weather', 'Speaker', 'Pid', 'Butler', 'Chart', 'Button', 'Clock') AND "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "entities" SET "depth" = 0 WHERE "entities"."id" IN (SELECT "entities"."id" FROM "entities" WHERE "entities"."id" = 632  ORDER BY "entities"."lft")[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "delayed_jobs" WHERE "delayed_jobs"."entity_id" = ? AND "delayed_jobs"."queue" = 'do_shedule'  [["entity_id", 632]]
Startup test (test)
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mEntity Load (0.7ms)[0m  SELECT  "entities".* FROM "entities" WHERE "entities"."id" = ? LIMIT 1  [["id", 632]]
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
